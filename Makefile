
default: build

build:
	opam exec -- dune $@

runtest:
	opam exec -- dune $@ --auto-promote

static:
	opam exec -- dune build --profile static

format:
	opam exec dune fmt

run:
	opam exec dune exec ./main.exe

top:
	opam exec dune exec ./example_top.exe

utop:
	opam exec dune utop

clean:
	opam exec dune $@

models:

model-explorer.install:
	python3 -m pip --no-cache-dir install ai-edge-model-explorer

.PHONY: default clean format models run top utop model-explorer.install
